
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>7. La librería con la presentación &#8212; documentación de gvSIG Docs - 1.0.0</title>
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/translations.js"></script>
    <script type="text/javascript" src="../../../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../../../_static/gvSIG.ico"/>
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="8. Integrándolo con gvSIG" href="08_integration_with_gvsig.html" />
    <link rel="prev" title="6. La librería con la lógica" href="06_the_library_containing_the_logic.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="08_integration_with_gvsig.html" title="8. Integrándolo con gvSIG"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="06_the_library_containing_the_logic.html" title="6. La librería con la lógica"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">documentación de gvSIG Docs - 1.0.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >gvSIG 2.3.1. Guía de inicio rápido para el desarrollador</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="00_index.html" accesskey="U">Construyendo nuestro primer plugin</a> &#187;</li>

<div align="right">
<li>
<a href="http://downloads.gvsig.org/download/web/es/build/html/index.html"><img src="http://downloads.gvsig.org/download/web/pt_br/build/html/_static/flag_ES.png"></a></li>
<a href="http://downloads.gvsig.org/download/web/en/build/html/index.html"><img src="http://downloads.gvsig.org/download/web/pt_br/build/html/_static/flag_EN.png"></a></li>
<a href="http://downloads.gvsig.org/download/web/pt_br/build/html/index.html"><img src="http://downloads.gvsig.org/download/web/pt_br/build/html/_static/flag_BR.png"></a></li>
</div>

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="la-libreria-con-la-presentacion">
<h1>7. La librería con la presentación<a class="headerlink" href="#la-libreria-con-la-presentacion" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Al igual que sucedía con la parte de la lógica, la presentación también estará dividida en
dos proyectos, por un lado el API y por otro la implementación.</p>
<ul class="simple">
<li>org.gvsig.Landregistryviewer.swing.api</li>
<li>org.gvsig.Landregistryviewer.swing.impl</li>
</ul>
<p>De forma similar a como sucedía con la lógica en la presentación, en el proyecto del
API sólo tenemos los interfaces y clases abstractas que definen nuestro API. El API
de la parte de presentación está formado por el interface del <em>manager</em> junto con
una serie de clases abstractas que definen el API público de nuestros componentes,
generalmente componentes que extenderán al componente de swing JPanel. Son clases
abstractas y no interfaces debido a que swing no presenta un modelo de interfaces
para sus componentes. En nuestro ejemplo, el único componente que tendremos es el
componente visual asociado a una manzana, el <em>JLandregistryviewerBlockPanel</em>,que extiende de
<em>JPanel</em> añadiéndole a nivel de API un único método que nos permita obtener el
componente lógico <em>LandregistryviewerBlock</em> que tiene asociado en un momento dado.</p>
<p>En la parte de implementación nos encontraremos con la clase <em>DefaultJLandregistryviewerBlockPanel</em>
que recibe en su constructor la instancia de <em>LandregistryviewerBlock</em> de la que debe presentar
sus datos. En general la parte de presentación no tiene una complicación mas allá
de la propia que pueda tener el manejo de swing. Resaltar
que la parte de presentación no debería usar nada que no este expuesto en el API
de nuestra librería de lógica.</p>
<p>Cuando creemos paneles en gvSIG tenemos nuestra forma de aproximarnos al paradigma de <em>modelo-vista-controlador</em>.
Aconsejamos dividir nuestro paneles en dos clases. Por un lado la creación
del GUI (<em>vista</em>); creación de los componentes y colocacion de estos en el panel. Y por
otro la parte de logica que maneja el interface de usuario, gestion de eventos y API
que ofrecemos de nuestro panel (<em>controlador</em>). La parte que se corresponda con el <em>modelo</em>
de nuestro GUI normalmente ya estara representada por un elemento del API de
nuestra libreria de logica. Asi en nuestro ejemplo tendremos:</p>
<ul class="simple">
<li><em>DefaultJLandRegistryViewerBlockPanelLayout</em> que haria de <em>vista</em></li>
<li><em>DefaultJLandRegistryViewerBlockPanel</em>, que haria las veces de <em>controlador</em></li>
<li><em>LandRegistryViewerBlock</em>, del API de nuestra libreria de logica, que haria de <em>modelo</em>.</li>
</ul>
<p>Para realizar el diseño de nuestros paneles en el proyecto gvSIG utilizamos la herramienta
<em>abeille</em>. Con ella contruimos nuestro GUI y generamos el codigo java de nuestra <em>vista</em>. Este
codigo java no debe ser modificado. Nuestro codigo lo introduciremos en el <em>controlador</em> que normalmente
haremos que extienda de la <em>vista</em>. Ademas
hay que tener especial precaucion de dejar junto a  <em>DefaultJLandRegistryViewerBlockPanelLayout.java</em>
el fichero <em>DefaultJLandRegistryViewerBlockPanelLayout.xml</em> generado con el <em>abeille</em>, y no
solo guardarnos el java generado, para asi facilitar posteriores modificaciones del interface
de usuario.</p>
<p>Podemos encontrar la herramienta de <em>abeille</em> dentro de la propia instalacion de gvSIG, ya que
la herramienta de scripting hace uso de ella. El diseñador de formularios lo encontraremos en:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gvSIG</span><span class="o">/</span><span class="n">extensiones</span><span class="o">/</span><span class="n">org</span><span class="o">.</span><span class="n">gvsig</span><span class="o">.</span><span class="n">scripting</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">mainplugin</span><span class="o">/</span><span class="n">abeille</span><span class="o">-</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span><span class="n">_M3</span>
</pre></div>
</div>
<p>Y para arrancarlo lo haremos a traves de <em>designer.jar</em>.</p>
<p>Tambien podemos descargarnoslo desde la web de gvSIG:</p>
<blockquote>
<div><a class="reference external" href="http://devel.gvsig.org/download/runtimes/abeille/formsdesigner-2.1.0_M3.zip">http://devel.gvsig.org/download/runtimes/abeille/formsdesigner-2.1.0_M3.zip</a></div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/gvsig_asoc.jpg" alt="Logo"/>
            </a></p>
  <h4>Tema anterior</h4>
  <p class="topless"><a href="06_the_library_containing_the_logic.html"
                        title="capítulo anterior">6. La librería con la lógica</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="08_integration_with_gvsig.html"
                        title="próximo capítulo">8. Integrándolo con gvSIG</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/developers_quick_start/2.3/05_building_our_first_plugin/07_the_library_containing_the_user_interface.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="links"><h3>Links</h3><ul><li><ul style="list-style-type:square">
<li><a href="https://gist.github.com/search?utf8=%E2%9C%93&q=gvsig">Repositorio de Scripts</a></li>
<li><a href="http://downloads.gvsig.org/download/web/scriptcatalog/build/html/">Catálogo de Plugins</a></li></ul></li></ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <gcse:search></gcse:search>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script>
  (function() {
    var cx = '009725233275570792772:egtqc4l6lsi';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="08_integration_with_gvsig.html" title="8. Integrándolo con gvSIG"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="06_the_library_containing_the_logic.html" title="6. La librería con la lógica"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">documentación de gvSIG Docs - 1.0.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >gvSIG 2.3.1. Guía de inicio rápido para el desarrollador</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="00_index.html" >Construyendo nuestro primer plugin</a> &#187;</li>

<div align="right">
<li>
<a href="http://downloads.gvsig.org/download/web/es/build/html/index.html"><img src="http://downloads.gvsig.org/download/web/pt_br/build/html/_static/flag_ES.png"></a></li>
<a href="http://downloads.gvsig.org/download/web/en/build/html/index.html"><img src="http://downloads.gvsig.org/download/web/pt_br/build/html/_static/flag_EN.png"></a></li>
<a href="http://downloads.gvsig.org/download/web/pt_br/build/html/index.html"><img src="http://downloads.gvsig.org/download/web/pt_br/build/html/_static/flag_BR.png"></a></li>
</div>

      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor 2017, gvSIG association.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>